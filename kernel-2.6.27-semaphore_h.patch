--- tp_smapi-0.37/thinkpad_ec.c
+++ tp_smapi-0.37/thinkpad_ec.c
@@ -36,7 +36,7 @@
 #include <linux/delay.h>
 #include <linux/thinkpad_ec.h>
 #include <linux/jiffies.h>
-#include <asm/semaphore.h>
+#include <linux/semaphore.h>
 #include <asm/io.h>
 
 #define TP_VERSION "0.37"
